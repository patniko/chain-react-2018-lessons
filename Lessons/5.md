# Lesson 5: Image Classifier

1. Add react-native-tensorflow packages to the app by running `yarn add react-native-tensorflow --save`
2. Link new package by running `react-native link react-native-tensorflow`
3. Update your `android/app/build.gradle` file with the new `react-native-tensorflow` dependency.
```gradle
dependencies {
    implementation project(':react-native-tensorflow')
```

4. Create an assets folder in the root of your project and add the files in the [Materials/Models](../Materials/Models) directory to it.

5. Update your `rn-cli.config.js` to bundle files with extensions `pb` and `txt`.
```javascript
getAssetExts() {
  return ['pb', 'txt']
}
```

6. Create a new ImageRecognizer.ts file and drop it into the root of your project directory.
```javascript
import { TfImageRecognition } from 'react-native-tensorflow';

export default class ImageRecognizer
{
  recognizer: TfImageRecognition;
  constructor(options)
  {
    this.recognizer = new TfImageRecognition(options);
  }

  async recognize(data)
  {
    return await this.recognizer.recognize(data);
  }
}
```

1. Instantiate ImageRecognizer whenever the `Welcome Screen` mounts so we can process images.
```javascript
import ImageRecognizer from '../ImageRecognizer';

componentDidMount() {
  this.recognizer = new ImageRecognizer({
    model: require('../../assets/model.pb'),
    labels: require('../../assets/labels.txt'),
  });
}
```
7. Update takePicture() to classify the picture captured using the supplied model.
```javascript
const results = await this.recognizer.recognize({
  image: data.path,
  inputName: 'Placeholder',
  outputName: 'loss',
});
if (results.length > 0) {
  alert(`Name: ${results[0].name} - Confidence: ${results[0].confidence}`);
}
```
## iOS
8. Open `ios/Podfile` and add `pod 'TensorFlow-experimental'` below the App Center SDK's.
9. Remove `react-native-camera` from pod file if you see an entry there.

```  
platform :ios, '9.0'
pod 'react-native-camera', :path => '../node_modules/react-native-camera'
```
10. Run `pod install`

## _Exit Criteria_
1. Capturing a picture in the app processes image through Tensforflow model.
2. App successfully detects US currency on test phone.

## Lesson 6: Cognitive Services
![Continue](./6.md)